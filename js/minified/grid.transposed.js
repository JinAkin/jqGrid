!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(u){"use strict";u.jgrid.extend({transposeSetup:function(o,e){var s=[],d=[],l=!1,c=u.extend({nameprefix:"col",labelprefix:"value ",baseindex:0,beforeCreateGrid:null},e||{});return this.each(function(){for(var e,r,a=Object.keys(o[c.baseindex]),t=0;t<a.length;t++){r=0,(e={}).col_name=a[t],l||s.push({name:"col_name"}),r++;for(var i=0;i<o.length;i++){var n=o[i];e[c.nameprefix+r]=n[a[t]],l||s.push({name:c.nameprefix+r,label:c.labelprefix+r}),r++}l=!0,d.push(e)}}),{colModel:s,rows:d}},jqTranspose:function(t,i,n,o){return this.each(function(){var a=this,e=n&&n.regional?n.regional:"en";function r(e){u.isArray(e)||(e=[]);var r=jQuery(a).jqGrid("transposeSetup",e,i);u.jgrid.isFunction(i.beforeCreateGrid)&&i.beforeCreateGrid.call(a,r);e=u.jgrid.from.call(a,r.rows);jQuery(a).jqGrid(u.extend(!0,{datastr:e.select(),datatype:"jsonstring",colModel:r.colModel,jsonReader:{repeatitems:!1},viewrecords:!0},n||{})),i.loadMsg&&u(".loading_pivot").remove()}void 0===i.loadMsg&&(i.loadMsg=!0),i.loadMsg&&u("<div class='loading_pivot ui-state-default ui-state-active row'>"+u.jgrid.getRegional(a,"regional."+e+".defaults.loadtext")+"</div>").insertBefore(a).show(),"string"==typeof t?u.ajax(u.extend({url:t,dataType:"json",success:function(e){r(u.jgrid.getAccessor(e,o&&o.reader?o.reader:"rows"))}},o||{})):r(t)})}})});